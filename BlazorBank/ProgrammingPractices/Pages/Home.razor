@page "/"

<PageTitle>Home</PageTitle>

<div class="row">
	<div class="col-6">
		@if (_account == null)
		{
			<h2 class="title">Add customer and create account @_name</h2>
			@if (!string.IsNullOrEmpty(_errorMessage))
			{
				<div class="alert alert-danger">@_errorMessage</div>
			}

			<div class="form-group">
				<label>Customer name</label>
				<input type="text" class="form-control" @bind-value="@_name" />
			</div>

			<div class="form-group">
				<label>Occupation</label>
				<select class="form-control" @bind="@_occupation">
					<option value="Software">Software</option>
					<option value="IT">IT</option>
					<option value="Marketing">Marketing</option>
					<option value="Sales">Sales</option>
				</select>
			</div>

			<div class="form-group">
				<label>Company name</label>
				<input type="text" class="form-control" @bind-value="@_companyName" />
			</div>

			<div class="form-group">
				<label>Email</label>
				<input type="text" class="form-control" @bind-value="@_email" />
			</div>

			<div class="form-group">
				<label>Mobile</label>
				<input type="text" class="form-control" @bind-value="@_mobileNumber" />
			</div>

			<div class="form-group">
				<label>Address</label>
				<input type="text" class="form-control" @bind-value="@_address" />
			</div>

			<div class="form-group">
				<label>Salary</label>
				<input type="number" class="form-control" @bind-value="@_monthlySalary" />
			</div>

			<div class="form-group">
				<label>Age</label>
				<input type="number" class="form-control" @bind-value="@_age" />
			</div>

			<button class="btn btn-@(_errorMessage == null ? "success" : "danger") block mt-4"
					@onclick="Submit"
					disabled="@_isBusy">
				@if (_isBusy)
				{
					<span>Saving....</span>
				}
				else
				{
					<span>Submit and Create</span>
				}
			</button>
		}
		else
		{
			<div class="alert alert-success">
				Account has been created successfully!
			</div>

			<p>Account Number: @_account.AccountNumber</p>
			<p>Account Balance: @_account.Balance AED</p>

			<button class="btn btn-primary">Deposit</button>
			<button class="btn btn-success">Withdraw</button>
		}
	</div>
</div>